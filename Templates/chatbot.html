<!DOCTYPE html>
<html>

<head>
    <title>Chatbot</title>
    <!--<link rel="stylesheet" href="/styles/style.css">-->
</head>

<body>
    <div class="js-container"></div>

    <script src="https://unpkg.com/supersimpledev/dayjs.js"></script> <!--This is for determine time and date-->

    <script src="https://unpkg.com/supersimpledev/react.js"></script>
    <script src="https://unpkg.com/supersimpledev/react-dom.js"></script>

    <script src="https://unpkg.com/supersimpledev/babel.js"></script>
    <!--This link to active the JSX (Javascript XML)-->
    <script type="text/babel">
        function ChatInput() {
            return (
                <div>
                    <input placeholder="Send a message to chatbot" size="30" />
                    <button>Send</button>
                </div>
            );
        }
        function ChatMessage({ message, sender }) {

            return (
                <div>
                    {sender === 'robot' && <img src="../images/robot.png" width="50" />}
                    {message}
                    {sender === 'user' && <img src="../images/user.png" width="50" />}
                </div>
            );
        }
        function MsgData() {
            const array = React.useState([{
                message: "hello chatbot",
                sender: "user",
                id: "id1"
            }, {
                message: "Hello! How can I help you?",
                sender: "robot",
                id: "id2"
            }, {
                message: "can you get me todays date?",
                sender: "user",
                id: "id3",
            }, {
                message: "Today is september 27",
                sender: "robot",
                id: "id4"
            }]);
            const chatMessages = array[0];
            const setChatMessages = array[1];

            function sendMessage() {
                setChatMessages([
                    ...chatMessages,
                    {
                        
                    }
                ]);
            };
            return (
                <>

                    <button onClick={sendMessage}> Send message</button>
                    {chatMessages.map((msgData) => { // Renamed the map variable to 'msgData'
                        return (
                            <ChatMessage // Correctly references the ChatMessage component
                                message={msgData.message}
                                sender={msgData.sender}
                                key={msgData.id}
                            />
                        );
                    })}
                </>
            )
        }


        function APP() {
            return (
                <>
                    <ChatInput />
                    <MsgData />
                </>
            );
        }


        const container = document.querySelector('.js-container');
        ReactDOM.createRoot(container).render(<APP />);

    </script>
</body>

</html>